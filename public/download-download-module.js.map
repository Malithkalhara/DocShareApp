{"version":3,"sources":["webpack:///./src/app/download/download.module.ts","webpack:///./src/app/download/download.page.html","webpack:///./src/app/download/download.page.scss","webpack:///./src/app/download/download.page.ts","webpack:///./src/app/grd-filter.pipe.ts"],"names":[],"mappings":"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","file":"download-download-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { GrdFilterPipe } from '../grd-filter.pipe';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DownloadPage } from './download.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DownloadPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DownloadPage,GrdFilterPipe]\n})\nexport class DownloadPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>download</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-searchbar [(ngModel)]=\\\"searchText\\\"></ion-searchbar>\\n  \\n  <div>\\n    <ion-card *ngFor=\\\"let file of allUploads | grdFilter: { title:searchText,subject:searchText,code:searchText};\\\">\\n      <ion-card-header>\\n        <ion-card-title>{{file.title}}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        <div >\\n          <ion-button type=\\\"ngSubmit\\\" (click)=\\\"download(file.content)\\\" size=\\\"small\\\" >download</ion-button>\\n        </div>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rvd25sb2FkL2Rvd25sb2FkLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { FileService } from '../services/file.service';\nimport { log } from 'util';\n\n@Component({\n  selector: 'app-download',\n  templateUrl: './download.page.html',\n  styleUrls: ['./download.page.scss'],\n})\nexport class DownloadPage implements OnInit {\n\n  allUploads:any;\n  searchText:any;\n\n  constructor(private fileservice:FileService) { }\n\n  ngOnInit() {\n    this.fileservice.getUploads().subscribe(data=>{\n      if(data['status']==200){\n        this.allUploads=data['data'];\n        console.log(data['data'])\n      }\n      else{\n        console.log(data)\n      }\n    })\n  }\n\n  download(content: any) {\n    console.log(content);\n    const link = document.createElement('a');\n    link.href = 'http://localhost:3000/api/file/download/'+ content.fileId;\n    link.download = content.fileName;\n    link.click();\n  }\n  \n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'grdFilter'\r\n})\r\nexport class GrdFilterPipe implements PipeTransform {\r\n  transform(items: any, filter: any, defaultFilter: boolean): any {\r\n    if (!filter){\r\n      return items;\r\n    }\r\n\r\n    if (!Array.isArray(items)){\r\n      return items;\r\n    }\r\n\r\n    if (filter && Array.isArray(items)) {\r\n      let filterKeys = Object.keys(filter);\r\n\r\n      if (defaultFilter) {\r\n        return items.filter(item =>\r\n            filterKeys.reduce((x, keyName) =>\r\n                (x && new RegExp(filter[keyName], 'gi').test(item[keyName])) || filter[keyName] == \"\", true));\r\n      }\r\n      else {\r\n        return items.filter(item => {\r\n          return filterKeys.some((keyName) => {\r\n            return new RegExp(filter[keyName], 'gi').test(item[keyName]) || filter[keyName] == \"\";\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n}"],"sourceRoot":""}